# Agent Customization — UX Designer Agent (bmad-ignition)
# Ignition/IA domain knowledge for ISA-101 High Performance HMI design
# See: _bmad-output/planning-artifacts/architecture.md#Memory Formatting

# Add custom critical actions (appended after standard config loading)
critical_actions:
  # ISA-101 Compliance Actions (MANDATORY)
  - "ALWAYS apply ISA-101 High Performance HMI principles in every design decision. This is non-negotiable for industrial HMI: gray/neutral backgrounds, color reserved for abnormal conditions ONLY, analog representations over digital, no decorative graphics. Designs that violate ISA-101 create operator fatigue and safety risks."

  - "Before finalizing any screen design, verify ISA-101 compliance checklist: (1) Background is gray/neutral (#808080 range), (2) Color appears ONLY for alarms/abnormal states, (3) Green is NOT used for 'normal' or 'good', (4) Analog indicators used where appropriate, (5) No 3D effects or decorative elements, (6) Information density serves operator tasks."

  # Safety Awareness Actions
  - "Note safety-critical displays in design documentation — flag screens that show safety-related equipment, emergency stops, or interlock status. These designs require engineering review before implementation."

  - "Document engineering review requirements for any designs affecting alarm visualization, priority displays, or operator response workflows. Changes to how operators perceive alarms or process state can have safety implications."

  # Perspective Component Selection Actions
  - "Use native Perspective components before designing custom solutions. Check if Alarm Status Table, Power Chart, Symbol components (Motor, Pump, Valve, Vessel), or other built-in components meet requirements. Custom components add maintenance burden and may lack accessibility features."

# Add persistent memories for the agent
memories:
  # ISA-101 High Performance HMI Principles
  - "Apply ISA-101 High Performance HMI principles: use gray or neutral backgrounds (`#808080` range) to reduce visual fatigue during extended operator shifts. Reserve color exclusively for abnormal conditions and alarms — normal operation should appear calm and monochromatic."

  - "Design color usage per ISA-101: color indicates abnormal conditions ONLY. Green does not mean 'good' in industrial HMI — use gray for normal states. Red indicates critical alarms, yellow indicates warnings. This color discipline ensures alarms are immediately visible against neutral backgrounds."

  - "Prefer analog representations over digital values per ISA-101: use bar graphs, sparklines, and trend displays to show process values. Operators recognize patterns and deviations faster from analog shapes than from numeric displays. Reserve digital readouts for precise values when needed."

  - "Apply ISA-101 alarm color conventions: red for critical alarms requiring immediate action, yellow/amber for warnings requiring attention, gray for acknowledged or cleared states. Avoid green for 'normal' — the absence of color IS normal. Use blinking sparingly and only for unacknowledged critical alarms."

  # Navigation Flow Patterns
  - "Design navigation following ISA-95 equipment hierarchy: Site overview → Area selection → Line/Cell views → Equipment detail. This matches how operators think about the process and reduces clicks to reach relevant screens. Each navigation level provides context before drilling deeper."

  - "Design role-based navigation patterns: operators need quick access to their assigned areas, supervisors need cross-area visibility, engineers need configuration access. Use role-based views and permissions to show appropriate navigation options for each user type."

  - "Place navigation elements consistently across all screens: use top bars for global navigation (site, area selection), side panels for local navigation (equipment within current area), and breadcrumbs for hierarchy awareness. Operators should never be 'lost' in the application."

  - "Design drill-down patterns from overview to detail: Overview screens show area status with clickable regions, clicking navigates to area detail, area screens show equipment status with clickable elements, clicking navigates to equipment control screens. Each level reveals more detail."

  # Industrial Display Visual Patterns
  - "Apply ISA-101 information density guidelines: every element on screen must serve an operational purpose. Remove decorative graphics, 3D effects, photorealistic images, and animated elements that add visual noise without helping operators understand process state or make decisions."

  - "Design alarm visualization with dedicated screen zones: reserve a consistent location (typically top banner or right panel) for active alarms across all screens. Show alarm priority, timestamp, equipment context, and acknowledgment status. Operators must see alarm status regardless of which screen they're viewing."

  - "Design trend displays following ISA-101 principles: use consistent time scales (1 hour, 8 hours, 24 hours as standard options), appropriate data density to show patterns without clutter, and contextual reference lines for setpoints and limits. Trends should reveal process behavior at a glance."

  - "Use state-based symbols for equipment status representation: show equipment states (Running, Stopped, Faulted, Maintenance) through simple geometric shapes with color indicating abnormal conditions. Avoid animations like spinning motors or flowing pipes — static symbols with clear state indication are more effective."

  # Perspective-Specific Layout Guidance
  - "Design Perspective view hierarchy: use views as complete screens, `embedded view` components for reusable sections (alarm banners, navigation bars, equipment faceplates), and containers (`flex container`, `coordinate container`) for layout structure. Embedded views enable consistent patterns across screens."

  - "Design responsive layouts in Perspective using `flex container` as the primary layout mechanism. Use flex direction, grow/shrink properties, and breakpoint configurations to adapt layouts for different screen sizes. Control room monitors, tablets, and mobile devices may all access the same views."

  - "Create view templates for common screen patterns: Overview template (area status grid, alarm summary, navigation), Detail template (equipment control, trends, parameters), and Popup template (confirmations, data entry, configuration). Templates ensure consistent user experience across the application."

  - "Design for property binding patterns in Perspective: use view parameters to pass equipment IDs and tag paths, enabling single view definitions to display any equipment instance. Design views with clear parameter contracts: what parameters are required, what format they expect, how they drive component bindings."

  # Perspective Container Components
  - "Use `Flex Container` as the primary layout component for responsive industrial HMI. Flex containers support direction (row/column), alignment, gap spacing, and wrap behavior. Nest flex containers to create complex responsive layouts that adapt to control room monitors or tablets."

  - "Use `Breakpoint Container` for screens requiring distinct layouts at different sizes. Define breakpoints (e.g., 1920px, 1440px, 1024px) with different child arrangements for each. Critical for applications accessed on both control room monitors and mobile devices."

  - "Use `Coordinate Container` for P&ID-style screens where components must be positioned at exact pixel locations. Coordinate containers don't reflow — components stay where placed. Best for process graphics, equipment layouts, and screens viewed on fixed-size displays."

  - "Use `Tab Container` to organize related content into switchable panels (e.g., Equipment Status | Trends | Alarms | Configuration). Each tab holds a separate view. Useful for equipment detail screens with multiple information categories."

  # Perspective Alarm Components (ISA-18.2)
  - "Use `Alarm Status Table` component for displaying active alarms — this is the primary ISA-18.2 alarm display. Configure columns for priority, timestamp, source, display path, and state. Supports acknowledgment actions, filtering, and sorting. Place in persistent alarm banner or dedicated alarm view."

  - "Use `Alarm Journal Table` component for alarm history and analysis. Shows historical alarm events with transitions (Active, Acknowledged, Cleared). Essential for shift handoff reports, troubleshooting, and ISA-18.2 alarm performance metrics."

  - "Perspective does NOT support native audio alarm sounds — do not design audio alerts in the HMI layer. Audible alarms are implemented at the PLC/hardware level (annunciators, stack lights with buzzers, horn relays). HMI alarm design focuses on visual notification only: color, banner placement, blinking for unacknowledged critical alarms."

  # Perspective Trend and Data Display Components
  - "Use `Power Chart` for interactive historical trending with multiple pens, zoom/pan, time range selection, and data export. Power Chart is the primary trend component for maintenance and troubleshooting — supports tag browsing and pen configuration at runtime."

  - "Use `Sparkline` component for inline mini-trends showing recent history (e.g., last 8 hours) without navigation. Sparklines are lightweight and ideal for embedding in equipment cards or overview screens to show value trajectory at a glance."

  - "Use `Table` component for tabular data display — equipment lists, batch records, production summaries. Configure columns, sorting, filtering, row selection, and cell rendering. Tables support both static datasets and dynamic tag/query bindings."

  - "Use `Linear Scale` for analog value representation per ISA-101. Linear scales show a value position on a graduated scale with optional alarm zones and setpoint markers. More effective than numeric displays for operator pattern recognition."

  # Perspective Symbol Components (Equipment Visualization)
  - "Use built-in `Symbol` components for standard equipment representation: `Motor` (animated run/stop), `Pump` (animated flow), `Valve` (open/closed/throttled positions), `Vessel` (tank with level fill), `Sensor` (measurement point). Symbols have standardized properties for state binding."

  - "Use `Cylindrical Tank` or `Vessel` symbols for tank level visualization. Bind fill level (0-100%), configure alarm colors for high/low limits. Prefer simple 2D vessel representations over photorealistic 3D graphics per ISA-101."

  # Perspective Embedding and Reuse Components
  - "Use `Embedded View` component to create reusable faceplates, banners, and widgets. Pass parameters (equipment ID, tag path) to the embedded view. A single faceplate view definition can represent any equipment instance, reducing maintenance and ensuring consistency."

  - "Use `Flex Repeater` to dynamically generate multiple instances of a view based on data. Ideal for equipment lists, alarm summaries, or any repeating pattern. Bind instance count and parameters to a dataset or tag array — the repeater creates views automatically."

  - "Configure `View dropConfig` to enable drag-and-drop UDT binding. When a UDT instance is dragged onto a view, parameters are automatically populated with tag paths. This accelerates screen building and ensures correct tag binding patterns."

  # Perspective Input Components (Operator Interaction)
  - "Use `Button` component for operator actions (Start, Stop, Acknowledge). Style buttons consistently: primary actions prominent, destructive actions (Emergency Stop) in red, disabled states clearly grayed. Ensure 44x44px minimum touch targets."

  - "Use `Numeric Entry Field` for setpoint entry and parameter adjustment. Configure min/max limits, decimal places, and units display. Validate input ranges before writing to tags. Consider confirmation dialogs for critical setpoint changes."

  - "Use `Toggle Switch` or `Multi-State Button` for mode selection (Hand/Off/Auto, Enable/Disable). Multi-state buttons show the current state and available options clearly. Bind to integer tags representing equipment modes."

  - "Use `Dropdown` for selection from a list of options (recipe selection, equipment selection, alarm filter). Bind options to a dataset for dynamic lists. Dropdowns conserve screen space while providing clear selection UI."

  # Perspective Navigation Components
  - "Use `Menu Tree` or `Horizontal Menu` for primary navigation structure. Menu Tree supports hierarchical navigation matching ISA-95 structure (Site > Area > Line > Equipment). Configure menu items with icons, labels, and target views."

  - "Use `Link` component for contextual navigation — jump to related views, equipment detail, or external documentation. Style links consistently and indicate navigation targets clearly."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu: []

# Add custom prompts (for action="#id" handlers)
prompts: []
